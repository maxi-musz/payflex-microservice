{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-20T15:09:12.344Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-20T15:10:47.073Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-20T15:11:48.781Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:21:27.825Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:27:09.368Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:29:45.622Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:34:32.377Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:36:13.362Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-03-22T10:38:16.026Z"}
{"level":"error","message":"Unhandled Rejection at: [object Promise], reason: ReferenceError: logger is not defined","service":"identity-service","timestamp":"2025-03-22T10:41:10.076Z"}
{"level":"error","message":"Refresh token error occured generateTokens is not defined","service":"identity-service","stack":"ReferenceError: generateTokens is not defined\n    at refreshAccessToken (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/controllers/authController.js:193:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-22T10:42:50.964Z"}
{"level":"error","message":"Refresh token error occured res.cookie is not a function","service":"identity-service","stack":"TypeError: res.cookie is not a function\n    at generateTokens (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/common/utils/generate-token.js:12:9)\n    at refreshAccessToken (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/controllers/authController.js:193:82)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-22T10:43:42.323Z"}
{"level":"error","message":"Refresh token error occurred logger is not defined","service":"identity-service","stack":"ReferenceError: logger is not defined\n    at refreshAccessTokenService (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/services/auth-service.js:269:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async refreshAccessToken (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/controllers/authController.js:166:20)","timestamp":"2025-03-22T11:09:12.850Z"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Refresh token error occurred Invalid status code: undefined","service":"identity-service","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: undefined\n    at ServerResponse.writeHead (node:_http_server:358:11)\n    at ServerResponse._implicitHeader (node:_http_server:344:8)\n    at write_ (node:_http_outgoing:989:9)\n    at ServerResponse.end (node:_http_outgoing:1106:5)\n    at ServerResponse.send (/Users/macbook/Desktop/payflex microservice/identity-service/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/Users/macbook/Desktop/payflex microservice/identity-service/node_modules/express/lib/response.js:278:15)\n    at refreshAccessToken (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/controllers/authController.js:129:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-22T11:21:07.498Z"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Refresh token error occurred Invalid status code: undefined","service":"identity-service","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: undefined\n    at ServerResponse.writeHead (node:_http_server:358:11)\n    at ServerResponse._implicitHeader (node:_http_server:344:8)\n    at write_ (node:_http_outgoing:989:9)\n    at ServerResponse.end (node:_http_outgoing:1106:5)\n    at ServerResponse.send (/Users/macbook/Desktop/payflex microservice/identity-service/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/Users/macbook/Desktop/payflex microservice/identity-service/node_modules/express/lib/response.js:278:15)\n    at refreshAccessToken (file:///Users/macbook/Desktop/payflex%20microservice/identity-service/src/controllers/authController.js:130:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-03-22T11:28:21.573Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T11:31:05.685Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T11:32:31.233Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:00:54.557Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:02:06.833Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:03:51.336Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:08:46.239Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:09:28.715Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:11:17.630Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:11:53.277Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-22T12:49:41.262Z"}
{"level":"error","message":"\u001b[31mUser does not exist\u001b[39m","service":"identity-service","timestamp":"2025-03-23T14:34:32.534Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T14:57:46.154Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T14:58:43.378Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:03:46.501Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:04:53.514Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:05:37.214Z"}
{"level":"error","message":"\u001b[31mUser already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:05:37.216Z"}
{"level":"error","message":"\u001b[31m\u001b[39m\n\u001b[31mInvalid `prisma.user.create()` invocation:\u001b[39m\n\n\n\u001b[31mUnique constraint failed on the fields: (`email`)\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:07:29.305Z"}
{"level":"error","message":"\u001b[31m\u001b[39m\n\u001b[31mInvalid `prisma.user.create()` invocation:\u001b[39m\n\n\n\u001b[31mUnique constraint failed on the fields: (`email`)\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:08:26.541Z"}
{"level":"error","message":"\u001b[31mCannot read properties of undefined (reading 'email')\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:10:11.766Z"}
{"level":"error","message":"\u001b[31mupdatedUser is not defined\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:18:25.861Z"}
{"level":"error","message":"\u001b[31m\u001b[39m\n\u001b[31mInvalid `prisma.user.update()` invocation:\u001b[39m\n\n\u001b[31m{\u001b[39m\n\u001b[31m  where: {\u001b[39m\n\u001b[31m    email: \"adeyeye.toyorsi@gmail.com\"\u001b[39m\n\u001b[31m  },\u001b[39m\n\u001b[31m  data: {\u001b[39m\n\u001b[31m    otp: \"5122\",\u001b[39m\n\u001b[31m    otp_expires_at: new Date(\"2025-03-23T15:31:42.126Z\"),\u001b[39m\n\u001b[31m    ~~~~~~~~~~~~~~\u001b[39m\n\u001b[31m?   id?: String | StringFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   first_name?: String | NullableStringFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   last_name?: String | NullableStringFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   email?: String | StringFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   phone_number?: String | NullableStringFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   password?: String | NullableStringFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   role?: Role | EnumRoleFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   gender?: Gender | NullableEnumGenderFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   date_of_birth?: DateTime | NullableDateTimeFieldUpdateOperationsInput | Null,\u001b[39m\n\u001b[31m?   is_email_verified?: Boolean | BoolFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   updatedAt?: DateTime | DateTimeFieldUpdateOperationsInput,\u001b[39m\n\u001b[31m?   profile_image?: ProfileImageUpdateOneWithoutUserNestedInput,\u001b[39m\n\u001b[31m?   address?: AddressUpdateOneWithoutUserNestedInput,\u001b[39m\n\u001b[31m?   refreshToken?: RefreshTokenUpdateOneWithoutUserNestedInput\u001b[39m\n\u001b[31m  }\u001b[39m\n\u001b[31m}\u001b[39m\n\n\u001b[31mUnknown argument `otp_expires_at`. Available options are marked with ?.\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:26:42.137Z"}
{"level":"error","message":"\u001b[31m\u001b[39m\n\u001b[31mInvalid `prisma.user.create()` invocation:\u001b[39m\n\n\u001b[31m{\u001b[39m\n\u001b[31m  data: {\u001b[39m\n\u001b[31m    email: \"adeyeye.toyorsi@gmail.com\",\u001b[39m\n\u001b[31m    otp: \"6381\",\u001b[39m\n\u001b[31m    otp_expires_at: new Date(\"2025-03-23T15:36:31.388Z\"),\u001b[39m\n\u001b[31m    ~~~~~~~~~~~~~~\u001b[39m\n\u001b[31m?   id?: String,\u001b[39m\n\u001b[31m?   first_name?: String | Null,\u001b[39m\n\u001b[31m?   last_name?: String | Null,\u001b[39m\n\u001b[31m?   phone_number?: String | Null,\u001b[39m\n\u001b[31m?   password?: String | Null,\u001b[39m\n\u001b[31m?   role?: Role,\u001b[39m\n\u001b[31m?   gender?: Gender | Null,\u001b[39m\n\u001b[31m?   date_of_birth?: DateTime | Null,\u001b[39m\n\u001b[31m?   is_email_verified?: Boolean,\u001b[39m\n\u001b[31m?   createdAt?: DateTime,\u001b[39m\n\u001b[31m?   updatedAt?: DateTime,\u001b[39m\n\u001b[31m?   profile_image?: ProfileImageCreateNestedOneWithoutUserInput,\u001b[39m\n\u001b[31m?   address?: AddressCreateNestedOneWithoutUserInput,\u001b[39m\n\u001b[31m?   refreshToken?: RefreshTokenCreateNestedOneWithoutUserInput\u001b[39m\n\u001b[31m  }\u001b[39m\n\u001b[31m}\u001b[39m\n\n\u001b[31mUnknown argument `otp_expires_at`. Available options are marked with ?.\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:31:31.390Z"}
{"level":"error","message":"\u001b[31muserToVerify is not defined\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:42:51.933Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:47:23.538Z"}
{"level":"error","message":"\u001b[31mEmail verification failed.\u001b[39m","service":"identity-service","timestamp":"2025-03-23T15:49:17.110Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-23T18:54:38.033Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:08:40.786Z"}
{"level":"error","message":"\u001b[31mUser with email: adeyeye.toyorsi@gmail.com already verified\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:11:11.933Z"}
{"level":"error","message":"\u001b[31mUser with email: adeyeye.toyorsi@gmail.com already exists\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:11:11.934Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:13:14.182Z"}
{"level":"error","message":"\u001b[31mresetPasswordService is not defined\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:14:01.942Z"}
{"level":"error","message":"\u001b[31mRoute not found\u001b[39m","service":"identity-service","timestamp":"2025-03-23T19:35:03.795Z"}
